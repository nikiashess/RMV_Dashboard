{"ast":null,"code":"var _jsxFileName = \"/Users/nikiashess/Library/Mobile Documents/com~apple~CloudDocs/RMV_Dashboard/dashboard_code/RMV_Dashboard/rmv-dashboard/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport axios from 'axios';\nimport apiKeys from './env';\nimport DepTable from './DepTable';\n\nfunction App() {\n  // API Proxy to prevent CORS error\n  const Proxy = 'https://cors-anywhere.herokuapp.com/'; // Station ID of Dornbusch / refer to RMV API documentation for different station\n\n  const stationID = '3001301';\n  const [departData, setDepartData] = useState([]); // State variables for different subway lines. n = northbound / s = southbound\n  // Direction of the trains\n  // Dornbusch subway station\n\n  const [u1n, setU1n] = useState([]);\n  const [u1s, setU1s] = useState([]);\n  const u1n_dir = \"Frankfurt (Main) Ginnheim\";\n  const u1s_dir = \"Frankfurt (Main) Südbahnhof\";\n  const colU1 = \"#a93634\";\n  const [u2n, setU2n] = useState([]);\n  const [u2s, setU2s] = useState([]);\n  const u2n_dir = \"Bad Homburg v.d.H.-Gonzenheim (U)\";\n  const u2s_dir = \"Frankfurt (Main) Südbahnhof\";\n  const colU2 = \"#49a258\";\n  const [u3n, setU3n] = useState([]);\n  const [u3s, setU3s] = useState([]);\n  const u3n_dir = \"Oberursel (Taunus)-Hohemark\";\n  const u3s_dir = \"Frankfurt (Main) Südbahnhof\";\n  const colU3 = \"#4d5ea4\";\n  const [u8n, setU8n] = useState([]);\n  const [u8s, setU8s] = useState([]);\n  const u8n_dir = \"Frankfurt (Main) Riedberg\";\n  const u8s_dir = \"Frankfurt (Main) Südbahnhof\";\n  const colU8 = \"#bd81b1\"; // Hauptfriedhof subway station\n\n  const [u5n, setU5n] = useState([]);\n  const [u5s, setU5s] = useState([]); // Dornbusch bus station\n\n  const [b34w, setB34w] = useState([]);\n  const [b34e, setB34e] = useState([]);\n  useEffect(() => {\n    //console.log(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId='+ apiKeys.rmvApiKey +'&id='+ stationID +'&format=json')\n    axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId=' + apiKeys.rmvApiKey + '&id=' + stationID + '&format=json').then(response => update(response.data.Departure));\n  }, []);\n\n  const update = data => {\n    setDepartData(data);\n    console.log(data);\n    setU1n(data.filter(function (d) {\n      return d.Product.line === 'U1' && d.direction === u1n_dir;\n    }));\n    setU1s(data.filter(function (d) {\n      return d.Product.line === 'U1' && d.direction === u1s_dir;\n    }));\n    setU2n(data.filter(function (d) {\n      return d.Product.line === 'U2' && d.direction === u2n_dir;\n    }));\n    setU2s(data.filter(function (d) {\n      return d.Product.line === 'U2' && d.direction === u2s_dir;\n    }));\n    setU3n(data.filter(function (d) {\n      return d.Product.line === 'U3' && d.direction === u3n_dir;\n    }));\n    setU3s(data.filter(function (d) {\n      return d.Product.line === 'U3' && d.direction === u3s_dir;\n    }));\n    setU8n(data.filter(function (d) {\n      return d.Product.line === 'U8' && d.direction === u8n_dir;\n    }));\n    setU8s(data.filter(function (d) {\n      return d.Product.line === 'U8' && d.direction === u8s_dir;\n    }));\n  };\n\n  const TableContainer = {\n    flexDirection: 'row'\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: TableContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U1 Südbahnhof',\n    Data: u1s,\n    Color: colU1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U2 Südbahnhof',\n    Data: u2s,\n    Color: colU2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U3 Südbahnhof',\n    Data: u3s,\n    Color: colU3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U8 Südbahnhof',\n    Data: u8s,\n    Color: colU8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  })))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/nikiashess/Library/Mobile Documents/com~apple~CloudDocs/RMV_Dashboard/dashboard_code/RMV_Dashboard/rmv-dashboard/src/App.js"],"names":["React","useEffect","useState","axios","apiKeys","DepTable","App","Proxy","stationID","departData","setDepartData","u1n","setU1n","u1s","setU1s","u1n_dir","u1s_dir","colU1","u2n","setU2n","u2s","setU2s","u2n_dir","u2s_dir","colU2","u3n","setU3n","u3s","setU3s","u3n_dir","u3s_dir","colU3","u8n","setU8n","u8s","setU8s","u8n_dir","u8s_dir","colU8","u5n","setU5n","u5s","setU5s","b34w","setB34w","b34e","setB34e","get","rmvApiKey","then","response","update","data","Departure","console","log","filter","d","Product","line","direction","TableContainer","flexDirection"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from 'axios'\nimport apiKeys from './env'\nimport DepTable from './DepTable'\n\nfunction App() {\n\n  // API Proxy to prevent CORS error\n  const Proxy = 'https://cors-anywhere.herokuapp.com/'\n  // Station ID of Dornbusch / refer to RMV API documentation for different station\n  const stationID = '3001301'\n\n  const [departData, setDepartData] = useState([])\n\n  // State variables for different subway lines. n = northbound / s = southbound\n  // Direction of the trains\n\n  // Dornbusch subway station\n  const [u1n, setU1n] = useState([])\n  const [u1s, setU1s] = useState([])\n  const u1n_dir = \"Frankfurt (Main) Ginnheim\"\n  const u1s_dir = \"Frankfurt (Main) Südbahnhof\"\n  const colU1 = \"#a93634\"\n\n  const [u2n, setU2n] = useState([])\n  const [u2s, setU2s] = useState([])\n  const u2n_dir = \"Bad Homburg v.d.H.-Gonzenheim (U)\"\n  const u2s_dir = \"Frankfurt (Main) Südbahnhof\"\n  const colU2 = \"#49a258\"\n\n  const [u3n, setU3n] = useState([])\n  const [u3s, setU3s] = useState([])\n  const u3n_dir = \"Oberursel (Taunus)-Hohemark\"\n  const u3s_dir = \"Frankfurt (Main) Südbahnhof\"\n  const colU3 = \"#4d5ea4\"\n\n  const [u8n, setU8n] = useState([])\n  const [u8s, setU8s] = useState([])\n  const u8n_dir = \"Frankfurt (Main) Riedberg\"\n  const u8s_dir = \"Frankfurt (Main) Südbahnhof\"\n  const colU8 = \"#bd81b1\"\n\n  // Hauptfriedhof subway station\n  const [u5n, setU5n] = useState([])\n  const [u5s, setU5s] = useState([])\n\n  // Dornbusch bus station\n  const [b34w, setB34w] = useState([])\n  const [b34e, setB34e] = useState([])\n\n\n\n  useEffect(() => {\n\n    //console.log(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId='+ apiKeys.rmvApiKey +'&id='+ stationID +'&format=json')\n\n    axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId='+ apiKeys.rmvApiKey +'&id='+ stationID +'&format=json')\n       .then(response => update(response.data.Departure))\n        \n\n        \n}, []);\n\n\nconst update = (data) => {\n    \n  setDepartData(data)\n\n  console.log(data)\n\n  setU1n(data.filter(function(d) { return (d.Product.line === 'U1' && d.direction === u1n_dir) }))\n  setU1s(data.filter(function(d) { return (d.Product.line === 'U1' && d.direction === u1s_dir) }))\n\n  setU2n(data.filter(function(d) { return (d.Product.line === 'U2' && d.direction === u2n_dir) }))\n  setU2s(data.filter(function(d) { return (d.Product.line === 'U2' && d.direction === u2s_dir) }))\n\n  setU3n(data.filter(function(d) { return (d.Product.line === 'U3' && d.direction === u3n_dir) }))\n  setU3s(data.filter(function(d) { return (d.Product.line === 'U3' && d.direction === u3s_dir) }))\n\n  setU8n(data.filter(function(d) { return (d.Product.line === 'U8' && d.direction === u8n_dir) }))\n  setU8s(data.filter(function(d) { return (d.Product.line === 'U8' && d.direction === u8s_dir) }))\n\n}\n\nconst TableContainer = {\n  flexDirection: 'row',\n}\n\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <div>\n          <div style={TableContainer}>\n            <DepTable Title={'U1 Südbahnhof'} Data={u1s} Color={colU1}/>\n            <DepTable Title={'U2 Südbahnhof'} Data={u2s} Color={colU2}/>\n            <DepTable Title={'U3 Südbahnhof'} Data={u3s} Color={colU3}/>\n            <DepTable Title={'U8 Südbahnhof'} Data={u8s} Color={colU8}/>\n          </div>\n\n        </div>\n          \n\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}