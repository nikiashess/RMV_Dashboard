{"ast":null,"code":"var _jsxFileName = \"/Users/nikiashess/Library/Mobile Documents/com~apple~CloudDocs/RMV_Dashboard/dashboard_code/RMV_Dashboard/rmv-dashboard/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport axios from 'axios';\nimport apiKeys from './env';\nimport DepTable from './DepTable';\nimport moment from 'moment';\n\nfunction App() {\n  // API Proxy to prevent CORS error\n  const Proxy = 'https://cors-anywhere.herokuapp.com/'; // Station ID of Dornbusch / refer to RMV API documentation for different station\n\n  const stationID_dornbusch = '3001301';\n  const stationID_hauptfriedhof = '3001401';\n  const [Time, setTime] = useState(moment().format('HH:mm')); // State variables for different subway lines. n = northbound / s = southbound\n  // Direction of the trains\n  // Dornbusch subway station\n\n  const [u1n, setU1n] = useState([]);\n  const [u1s, setU1s] = useState([]);\n  const u1n_dir = \"Frankfurt (Main) Ginnheim\";\n  const u1s_dir = \"Frankfurt (Main) Südbahnhof\";\n  const colU1 = \"#a93634\";\n  const [u2n, setU2n] = useState([]);\n  const [u2s, setU2s] = useState([]);\n  const u2n_dir = \"Bad Homburg v.d.H.-Gonzenheim (U)\";\n  const u2s_dir = \"Frankfurt (Main) Südbahnhof\";\n  const colU2 = \"#49a258\";\n  const [u3n, setU3n] = useState([]);\n  const [u3s, setU3s] = useState([]);\n  const u3n_dir = \"Oberursel (Taunus)-Hohemark\";\n  const u3s_dir = \"Frankfurt (Main) Südbahnhof\";\n  const colU3 = \"#4d5ea4\";\n  const [u8n, setU8n] = useState([]);\n  const [u8s, setU8s] = useState([]);\n  const u8n_dir = \"Frankfurt (Main) Riedberg\";\n  const u8s_dir = \"Frankfurt (Main) Südbahnhof\";\n  const colU8 = \"#bd81b1\"; // Hauptfriedhof subway station\n\n  const [u5n, setU5n] = useState([]);\n  const [u5s, setU5s] = useState([]);\n  const u5n_dir = \"Frankfurt (Main) Preungesheim\";\n  const u5s_dir = \"Frankfurt (Main) Hauptbahnhof\";\n  const colU5 = \"#347647\"; // Dornbusch bus station\n\n  const [b34w, setB34w] = useState([]);\n  const [b34e, setB34e] = useState([]);\n  const b34e_dir = \"Frankfurt (Main) Bornheim Mitte\";\n  const b34w_dir = \"Frankfurt (Main) Mönchhofstraße\";\n  const colB34 = \"#49a38d\";\n  useEffect(() => {\n    //console.log(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId='+ apiKeys.rmvApiKey +'&id='+ stationID +'&format=json')\n    // run once, then every x seconds\n    axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId=' + apiKeys.rmvApiKey + '&id=' + stationID_dornbusch + '&format=json').then(response => update(response.data.Departure));\n    axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId=' + apiKeys.rmvApiKey + '&id=' + stationID_hauptfriedhof + '&format=json').then(response => update_Hauptfriedhof(response.data.Departure));\n    const interval = setInterval(() => {\n      axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId=' + apiKeys.rmvApiKey + '&id=' + stationID_dornbusch + '&format=json').then(response => update(response.data.Departure));\n      axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId=' + apiKeys.rmvApiKey + '&id=' + stationID_hauptfriedhof + '&format=json').then(response => update_Hauptfriedhof(response.data.Departure));\n      setTime(moment().format('HH:mm'));\n    }, 20000);\n  }, []);\n\n  const update = data => {\n    //setDepartData(data)\n    //console.log(data)\n    console.log('update');\n    setU1n(data.filter(function (d) {\n      return d.Product.line === 'U1' && d.direction === u1n_dir;\n    }));\n    setU1s(data.filter(function (d) {\n      return d.Product.line === 'U1' && d.direction === u1s_dir;\n    }));\n    setU2n(data.filter(function (d) {\n      return d.Product.line === 'U2' && d.direction === u2n_dir;\n    }));\n    setU2s(data.filter(function (d) {\n      return d.Product.line === 'U2' && d.direction === u2s_dir;\n    }));\n    setU3n(data.filter(function (d) {\n      return d.Product.line === 'U3' && d.direction === u3n_dir;\n    }));\n    setU3s(data.filter(function (d) {\n      return d.Product.line === 'U3' && d.direction === u3s_dir;\n    }));\n    setU8n(data.filter(function (d) {\n      return d.Product.line === 'U8' && d.direction === u8n_dir;\n    }));\n    setU8s(data.filter(function (d) {\n      return d.Product.line === 'U8' && d.direction === u8s_dir;\n    }));\n    setB34e(data.filter(function (d) {\n      return d.Product.line === '34' && d.direction === b34e_dir;\n    }));\n    setB34w(data.filter(function (d) {\n      return d.Product.line === '34' && d.direction === b34w_dir;\n    }));\n  };\n\n  const update_Hauptfriedhof = data => {\n    //console.log(data)\n    setU5n(data.filter(function (d) {\n      return d.Product.line === 'U5' && d.direction === u5n_dir;\n    }));\n    setU5s(data.filter(function (d) {\n      return d.Product.line === 'U5' && d.direction === u5s_dir;\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, Time), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Tables\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U1 Südbahnhof',\n    Data: u1s,\n    Color: colU1,\n    key: '1',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U2 Südbahnhof',\n    Data: u2s,\n    Color: colU2,\n    key: '2',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U3 Südbahnhof',\n    Data: u3s,\n    Color: colU3,\n    key: '3',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U8 Südbahnhof',\n    Data: u8s,\n    Color: colU8,\n    key: '4',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: '34 Rödelheim',\n    Data: b34w,\n    Color: colB34,\n    key: '5',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U5 Hauptbahnhof',\n    Data: u5s,\n    Color: colU5,\n    key: '11',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Tables\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U1 Ginnheim',\n    Data: u1n,\n    Color: colU1,\n    key: '6',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U2 Gonzenheim',\n    Data: u2n,\n    Color: colU2,\n    key: '7',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U3 Hohe Mark',\n    Data: u3n,\n    Color: colU3,\n    key: '8',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U8 Riedberg',\n    Data: u8n,\n    Color: colU8,\n    key: '9',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: '34 Bornheim',\n    Data: b34e,\n    Color: colB34,\n    key: '10',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U5 Preungesheim',\n    Data: u5n,\n    Color: colU5,\n    key: '12',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/nikiashess/Library/Mobile Documents/com~apple~CloudDocs/RMV_Dashboard/dashboard_code/RMV_Dashboard/rmv-dashboard/src/App.js"],"names":["React","useEffect","useState","axios","apiKeys","DepTable","moment","App","Proxy","stationID_dornbusch","stationID_hauptfriedhof","Time","setTime","format","u1n","setU1n","u1s","setU1s","u1n_dir","u1s_dir","colU1","u2n","setU2n","u2s","setU2s","u2n_dir","u2s_dir","colU2","u3n","setU3n","u3s","setU3s","u3n_dir","u3s_dir","colU3","u8n","setU8n","u8s","setU8s","u8n_dir","u8s_dir","colU8","u5n","setU5n","u5s","setU5s","u5n_dir","u5s_dir","colU5","b34w","setB34w","b34e","setB34e","b34e_dir","b34w_dir","colB34","get","rmvApiKey","then","response","update","data","Departure","update_Hauptfriedhof","interval","setInterval","console","log","filter","d","Product","line","direction"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from 'axios'\nimport apiKeys from './env'\nimport DepTable from './DepTable'\nimport moment from 'moment';\n\nfunction App() {\n\n  // API Proxy to prevent CORS error\n  const Proxy = 'https://cors-anywhere.herokuapp.com/'\n  // Station ID of Dornbusch / refer to RMV API documentation for different station\n  const stationID_dornbusch = '3001301'\n  const stationID_hauptfriedhof= '3001401'\n\n  const [Time, setTime] = useState(moment().format('HH:mm'))\n\n  // State variables for different subway lines. n = northbound / s = southbound\n  // Direction of the trains\n\n  // Dornbusch subway station\n  const [u1n, setU1n] = useState([])\n  const [u1s, setU1s] = useState([])\n  const u1n_dir = \"Frankfurt (Main) Ginnheim\"\n  const u1s_dir = \"Frankfurt (Main) Südbahnhof\"\n  const colU1 = \"#a93634\"\n\n  const [u2n, setU2n] = useState([])\n  const [u2s, setU2s] = useState([])\n  const u2n_dir = \"Bad Homburg v.d.H.-Gonzenheim (U)\"\n  const u2s_dir = \"Frankfurt (Main) Südbahnhof\"\n  const colU2 = \"#49a258\"\n\n  const [u3n, setU3n] = useState([])\n  const [u3s, setU3s] = useState([])\n  const u3n_dir = \"Oberursel (Taunus)-Hohemark\"\n  const u3s_dir = \"Frankfurt (Main) Südbahnhof\"\n  const colU3 = \"#4d5ea4\"\n\n  const [u8n, setU8n] = useState([])\n  const [u8s, setU8s] = useState([])\n  const u8n_dir = \"Frankfurt (Main) Riedberg\"\n  const u8s_dir = \"Frankfurt (Main) Südbahnhof\"\n  const colU8 = \"#bd81b1\"\n\n  // Hauptfriedhof subway station\n  const [u5n, setU5n] = useState([])\n  const [u5s, setU5s] = useState([])\n  const u5n_dir = \"Frankfurt (Main) Preungesheim\"\n  const u5s_dir = \"Frankfurt (Main) Hauptbahnhof\"\n  const colU5 = \"#347647\"\n\n  // Dornbusch bus station\n  const [b34w, setB34w] = useState([])\n  const [b34e, setB34e] = useState([])\n  const b34e_dir = \"Frankfurt (Main) Bornheim Mitte\"\n  const b34w_dir = \"Frankfurt (Main) Mönchhofstraße\"\n  const colB34 = \"#49a38d\"\n\n\n\n  useEffect(() => {\n\n    //console.log(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId='+ apiKeys.rmvApiKey +'&id='+ stationID +'&format=json')\n\n    // run once, then every x seconds\n    axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId='+ apiKeys.rmvApiKey +'&id='+ stationID_dornbusch +'&format=json')\n       .then(response => update(response.data.Departure))\n\n    axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId='+ apiKeys.rmvApiKey +'&id='+ stationID_hauptfriedhof +'&format=json')\n       .then(response => update_Hauptfriedhof(response.data.Departure))\n\n    const interval = setInterval(() => {\n        axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId='+ apiKeys.rmvApiKey +'&id='+ stationID_dornbusch +'&format=json')\n       .then(response => update(response.data.Departure))\n\n       axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId='+ apiKeys.rmvApiKey +'&id='+ stationID_hauptfriedhof +'&format=json')\n       .then(response => update_Hauptfriedhof(response.data.Departure))\n    \n      setTime(moment().format('HH:mm'))\n       \n    }, 20000); \n    \n        \n\n        \n}, []);\n\n\n\nconst update = (data) => {\n    \n  //setDepartData(data)\n\n  //console.log(data)\n  console.log('update')\n\n  setU1n(data.filter(function(d) { return (d.Product.line === 'U1' && d.direction === u1n_dir) }))\n  setU1s(data.filter(function(d) { return (d.Product.line === 'U1' && d.direction === u1s_dir) }))\n\n  setU2n(data.filter(function(d) { return (d.Product.line === 'U2' && d.direction === u2n_dir) }))\n  setU2s(data.filter(function(d) { return (d.Product.line === 'U2' && d.direction === u2s_dir) }))\n\n  setU3n(data.filter(function(d) { return (d.Product.line === 'U3' && d.direction === u3n_dir) }))\n  setU3s(data.filter(function(d) { return (d.Product.line === 'U3' && d.direction === u3s_dir) }))\n\n  setU8n(data.filter(function(d) { return (d.Product.line === 'U8' && d.direction === u8n_dir) }))\n  setU8s(data.filter(function(d) { return (d.Product.line === 'U8' && d.direction === u8s_dir) }))\n\n  setB34e(data.filter(function(d) { return (d.Product.line === '34' && d.direction === b34e_dir) }))\n  setB34w(data.filter(function(d) { return (d.Product.line === '34' && d.direction === b34w_dir) }))\n\n}\n\nconst update_Hauptfriedhof = (data) => {\n\n  //console.log(data)\n\n  setU5n(data.filter(function(d) { return (d.Product.line === 'U5' && d.direction === u5n_dir) }))\n  setU5s(data.filter(function(d) { return (d.Product.line === 'U5' && d.direction === u5s_dir) }))\n\n}\n\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n\n        <h1>{Time}</h1>\n\n        <div className=\"Tables\">\n          <DepTable Title={'U1 Südbahnhof'} Data={u1s} Color={colU1} key={'1'}/>\n          <DepTable Title={'U2 Südbahnhof'} Data={u2s} Color={colU2} key={'2'}/>\n          <DepTable Title={'U3 Südbahnhof'} Data={u3s} Color={colU3} key={'3'}/>\n          <DepTable Title={'U8 Südbahnhof'} Data={u8s} Color={colU8} key={'4'}/>\n          <DepTable Title={'34 Rödelheim'} Data={b34w} Color={colB34} key={'5'}/>\n          <DepTable Title={'U5 Hauptbahnhof'} Data={u5s} Color={colU5} key={'11'}/>\n        </div>\n        <div className=\"Tables\">\n          <DepTable Title={'U1 Ginnheim'} Data={u1n} Color={colU1} key={'6'}/>\n          <DepTable Title={'U2 Gonzenheim'} Data={u2n} Color={colU2} key={'7'}/>\n          <DepTable Title={'U3 Hohe Mark'} Data={u3n} Color={colU3} key={'8'}/>\n          <DepTable Title={'U8 Riedberg'} Data={u8n} Color={colU8} key={'9'}/>\n          <DepTable Title={'34 Bornheim'} Data={b34e} Color={colB34} key={'10'}/>\n          <DepTable Title={'U5 Preungesheim'} Data={u5n} Color={colU5} key={'12'}/>\n        </div>\n\n        \n          \n\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}