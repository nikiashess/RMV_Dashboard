{"ast":null,"code":"var _jsxFileName = \"/Users/nikiashess/Library/Mobile Documents/com~apple~CloudDocs/RMV_Dashboard/dashboard_code/RMV_Dashboard/rmv-dashboard/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport axios from 'axios';\nimport apiKeys from './env';\nimport DepTable from './DepTable';\n\nfunction App() {\n  // API Proxy to prevent CORS error\n  const Proxy = 'https://cors-anywhere.herokuapp.com/'; // Station ID of Dornbusch / refer to RMV API documentation for different station\n\n  const stationID_dornbusch = '3001301';\n  const stationID_hauptfriedhof = '3001401';\n  const [departData, setDepartData] = useState([]); // State variables for different subway lines. n = northbound / s = southbound\n  // Direction of the trains\n  // Dornbusch subway station\n\n  const [u1n, setU1n] = useState([]);\n  const [u1s, setU1s] = useState([]);\n  const u1n_dir = \"Frankfurt (Main) Ginnheim\";\n  const u1s_dir = \"Frankfurt (Main) Südbahnhof\";\n  const colU1 = \"#a93634\";\n  const [u2n, setU2n] = useState([]);\n  const [u2s, setU2s] = useState([]);\n  const u2n_dir = \"Bad Homburg v.d.H.-Gonzenheim (U)\";\n  const u2s_dir = \"Frankfurt (Main) Südbahnhof\";\n  const colU2 = \"#49a258\";\n  const [u3n, setU3n] = useState([]);\n  const [u3s, setU3s] = useState([]);\n  const u3n_dir = \"Oberursel (Taunus)-Hohemark\";\n  const u3s_dir = \"Frankfurt (Main) Südbahnhof\";\n  const colU3 = \"#4d5ea4\";\n  const [u8n, setU8n] = useState([]);\n  const [u8s, setU8s] = useState([]);\n  const u8n_dir = \"Frankfurt (Main) Riedberg\";\n  const u8s_dir = \"Frankfurt (Main) Südbahnhof\";\n  const colU8 = \"#bd81b1\"; // Hauptfriedhof subway station\n\n  const [u5n, setU5n] = useState([]);\n  const [u5s, setU5s] = useState([]);\n  const u5n_dir = \"Frankfurt (Main) Riedberg\";\n  const u5s_dir = \"Frankfurt (Main) Südbahnhof\";\n  const colU5 = \"#347647\"; // Dornbusch bus station\n\n  const [b34w, setB34w] = useState([]);\n  const [b34e, setB34e] = useState([]);\n  const b34e_dir = \"Frankfurt (Main) Bornheim Mitte\";\n  const b34w_dir = \"Frankfurt (Main) Mönchhofstraße\";\n  const colb34 = \"#49a38d\";\n  useEffect(() => {\n    //console.log(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId='+ apiKeys.rmvApiKey +'&id='+ stationID +'&format=json')\n    // run once, then every x seconds\n    axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId=' + apiKeys.rmvApiKey + '&id=' + stationID_dornbusch + '&format=json').then(response => update(response.data.Departure));\n    axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId=' + apiKeys.rmvApiKey + '&id=' + stationID_dornbusch + '&format=json').then(response => update(response.data.Departure));\n    const interval = setInterval(() => {\n      axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId=' + apiKeys.rmvApiKey + '&id=' + stationID_dornbusch + '&format=json').then(response => update(response.data.Departure));\n      axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId=' + apiKeys.rmvApiKey + '&id=' + stationID_dornbusch + '&format=json').then(response => update(response.data.Departure));\n    }, 30000);\n  }, []);\n\n  const update = data => {\n    setDepartData(data); //console.log(data)\n\n    console.log('update');\n    setU1n(data.filter(function (d) {\n      return d.Product.line === 'U1' && d.direction === u1n_dir;\n    }));\n    setU1s(data.filter(function (d) {\n      return d.Product.line === 'U1' && d.direction === u1s_dir;\n    }));\n    setU2n(data.filter(function (d) {\n      return d.Product.line === 'U2' && d.direction === u2n_dir;\n    }));\n    setU2s(data.filter(function (d) {\n      return d.Product.line === 'U2' && d.direction === u2s_dir;\n    }));\n    setU3n(data.filter(function (d) {\n      return d.Product.line === 'U3' && d.direction === u3n_dir;\n    }));\n    setU3s(data.filter(function (d) {\n      return d.Product.line === 'U3' && d.direction === u3s_dir;\n    }));\n    setU8n(data.filter(function (d) {\n      return d.Product.line === 'U8' && d.direction === u8n_dir;\n    }));\n    setU8s(data.filter(function (d) {\n      return d.Product.line === 'U8' && d.direction === u8s_dir;\n    }));\n    setB34e(data.filter(function (d) {\n      return d.Product.line === '34' && d.direction === b34e_dir;\n    }));\n    setB34w(data.filter(function (d) {\n      return d.Product.line === '34' && d.direction === b34w_dir;\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Tables\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U1 Südbahnhof',\n    Data: u1s,\n    Color: colU1,\n    key: '1',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U2 Südbahnhof',\n    Data: u2s,\n    Color: colU2,\n    key: '2',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U3 Südbahnhof',\n    Data: u3s,\n    Color: colU3,\n    key: '3',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U8 Südbahnhof',\n    Data: u8s,\n    Color: colU8,\n    key: '4',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: '34 Rödelheim',\n    Data: b34w,\n    Color: colb34,\n    key: '5',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Tables\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U1 Ginnheim',\n    Data: u1n,\n    Color: colU1,\n    key: '6',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U2 Gonzenheim',\n    Data: u2n,\n    Color: colU2,\n    key: '7',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U3 Hohe Mark',\n    Data: u3n,\n    Color: colU3,\n    key: '8',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: 'U8 Riedberg',\n    Data: u8n,\n    Color: colU8,\n    key: '9',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DepTable, {\n    Title: '34 Bornheim',\n    Data: b34e,\n    Color: colb34,\n    key: '10',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/nikiashess/Library/Mobile Documents/com~apple~CloudDocs/RMV_Dashboard/dashboard_code/RMV_Dashboard/rmv-dashboard/src/App.js"],"names":["React","useEffect","useState","axios","apiKeys","DepTable","App","Proxy","stationID_dornbusch","stationID_hauptfriedhof","departData","setDepartData","u1n","setU1n","u1s","setU1s","u1n_dir","u1s_dir","colU1","u2n","setU2n","u2s","setU2s","u2n_dir","u2s_dir","colU2","u3n","setU3n","u3s","setU3s","u3n_dir","u3s_dir","colU3","u8n","setU8n","u8s","setU8s","u8n_dir","u8s_dir","colU8","u5n","setU5n","u5s","setU5s","u5n_dir","u5s_dir","colU5","b34w","setB34w","b34e","setB34e","b34e_dir","b34w_dir","colb34","get","rmvApiKey","then","response","update","data","Departure","interval","setInterval","console","log","filter","d","Product","line","direction"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;;AAEA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,OAApB;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,SAASC,GAAT,GAAe;AAEb;AACA,QAAMC,KAAK,GAAG,sCAAd,CAHa,CAIb;;AACA,QAAMC,mBAAmB,GAAG,SAA5B;AACA,QAAMC,uBAAuB,GAAE,SAA/B;AAEA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,EAAD,CAA5C,CARa,CAUb;AACA;AAEA;;AACA,QAAM,CAACU,GAAD,EAAMC,MAAN,IAAgBX,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACY,GAAD,EAAMC,MAAN,IAAgBb,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAMc,OAAO,GAAG,2BAAhB;AACA,QAAMC,OAAO,GAAG,6BAAhB;AACA,QAAMC,KAAK,GAAG,SAAd;AAEA,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBlB,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACmB,GAAD,EAAMC,MAAN,IAAgBpB,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAMqB,OAAO,GAAG,mCAAhB;AACA,QAAMC,OAAO,GAAG,6BAAhB;AACA,QAAMC,KAAK,GAAG,SAAd;AAEA,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBzB,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAAC0B,GAAD,EAAMC,MAAN,IAAgB3B,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM4B,OAAO,GAAG,6BAAhB;AACA,QAAMC,OAAO,GAAG,6BAAhB;AACA,QAAMC,KAAK,GAAG,SAAd;AAEA,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBhC,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACiC,GAAD,EAAMC,MAAN,IAAgBlC,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAMmC,OAAO,GAAG,2BAAhB;AACA,QAAMC,OAAO,GAAG,6BAAhB;AACA,QAAMC,KAAK,GAAG,SAAd,CApCa,CAsCb;;AACA,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBvC,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACwC,GAAD,EAAMC,MAAN,IAAgBzC,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM0C,OAAO,GAAG,2BAAhB;AACA,QAAMC,OAAO,GAAG,6BAAhB;AACA,QAAMC,KAAK,GAAG,SAAd,CA3Ca,CA6Cb;;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkB9C,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAAC+C,IAAD,EAAOC,OAAP,IAAkBhD,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAMiD,QAAQ,GAAG,iCAAjB;AACA,QAAMC,QAAQ,GAAG,iCAAjB;AACA,QAAMC,MAAM,GAAG,SAAf;AAIApD,EAAAA,SAAS,CAAC,MAAM;AAEd;AAEA;AACAE,IAAAA,KAAK,CAACmD,GAAN,CAAU/C,KAAK,GAAG,kDAAR,GAA4DH,OAAO,CAACmD,SAApE,GAA+E,MAA/E,GAAuF/C,mBAAvF,GAA4G,cAAtH,EACIgD,IADJ,CACSC,QAAQ,IAAIC,MAAM,CAACD,QAAQ,CAACE,IAAT,CAAcC,SAAf,CAD3B;AAGAzD,IAAAA,KAAK,CAACmD,GAAN,CAAU/C,KAAK,GAAG,kDAAR,GAA4DH,OAAO,CAACmD,SAApE,GAA+E,MAA/E,GAAuF/C,mBAAvF,GAA4G,cAAtH,EACIgD,IADJ,CACSC,QAAQ,IAAIC,MAAM,CAACD,QAAQ,CAACE,IAAT,CAAcC,SAAf,CAD3B;AAGA,UAAMC,QAAQ,GAAGC,WAAW,CAAC,MAAM;AAC/B3D,MAAAA,KAAK,CAACmD,GAAN,CAAU/C,KAAK,GAAG,kDAAR,GAA4DH,OAAO,CAACmD,SAApE,GAA+E,MAA/E,GAAuF/C,mBAAvF,GAA4G,cAAtH,EACAgD,IADA,CACKC,QAAQ,IAAIC,MAAM,CAACD,QAAQ,CAACE,IAAT,CAAcC,SAAf,CADvB;AAGDzD,MAAAA,KAAK,CAACmD,GAAN,CAAU/C,KAAK,GAAG,kDAAR,GAA4DH,OAAO,CAACmD,SAApE,GAA+E,MAA/E,GAAuF/C,mBAAvF,GAA4G,cAAtH,EACCgD,IADD,CACMC,QAAQ,IAAIC,MAAM,CAACD,QAAQ,CAACE,IAAT,CAAcC,SAAf,CADxB;AAEF,KAN2B,EAMzB,KANyB,CAA5B;AAWH,GAtBU,EAsBR,EAtBQ,CAAT;;AA0BF,QAAMF,MAAM,GAAIC,IAAD,IAAU;AAEvBhD,IAAAA,aAAa,CAACgD,IAAD,CAAb,CAFuB,CAIvB;;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AAEAnD,IAAAA,MAAM,CAAC8C,IAAI,CAACM,MAAL,CAAY,UAASC,CAAT,EAAY;AAAE,aAAQA,CAAC,CAACC,OAAF,CAAUC,IAAV,KAAmB,IAAnB,IAA2BF,CAAC,CAACG,SAAF,KAAgBrD,OAAnD;AAA6D,KAAvF,CAAD,CAAN;AACAD,IAAAA,MAAM,CAAC4C,IAAI,CAACM,MAAL,CAAY,UAASC,CAAT,EAAY;AAAE,aAAQA,CAAC,CAACC,OAAF,CAAUC,IAAV,KAAmB,IAAnB,IAA2BF,CAAC,CAACG,SAAF,KAAgBpD,OAAnD;AAA6D,KAAvF,CAAD,CAAN;AAEAG,IAAAA,MAAM,CAACuC,IAAI,CAACM,MAAL,CAAY,UAASC,CAAT,EAAY;AAAE,aAAQA,CAAC,CAACC,OAAF,CAAUC,IAAV,KAAmB,IAAnB,IAA2BF,CAAC,CAACG,SAAF,KAAgB9C,OAAnD;AAA6D,KAAvF,CAAD,CAAN;AACAD,IAAAA,MAAM,CAACqC,IAAI,CAACM,MAAL,CAAY,UAASC,CAAT,EAAY;AAAE,aAAQA,CAAC,CAACC,OAAF,CAAUC,IAAV,KAAmB,IAAnB,IAA2BF,CAAC,CAACG,SAAF,KAAgB7C,OAAnD;AAA6D,KAAvF,CAAD,CAAN;AAEAG,IAAAA,MAAM,CAACgC,IAAI,CAACM,MAAL,CAAY,UAASC,CAAT,EAAY;AAAE,aAAQA,CAAC,CAACC,OAAF,CAAUC,IAAV,KAAmB,IAAnB,IAA2BF,CAAC,CAACG,SAAF,KAAgBvC,OAAnD;AAA6D,KAAvF,CAAD,CAAN;AACAD,IAAAA,MAAM,CAAC8B,IAAI,CAACM,MAAL,CAAY,UAASC,CAAT,EAAY;AAAE,aAAQA,CAAC,CAACC,OAAF,CAAUC,IAAV,KAAmB,IAAnB,IAA2BF,CAAC,CAACG,SAAF,KAAgBtC,OAAnD;AAA6D,KAAvF,CAAD,CAAN;AAEAG,IAAAA,MAAM,CAACyB,IAAI,CAACM,MAAL,CAAY,UAASC,CAAT,EAAY;AAAE,aAAQA,CAAC,CAACC,OAAF,CAAUC,IAAV,KAAmB,IAAnB,IAA2BF,CAAC,CAACG,SAAF,KAAgBhC,OAAnD;AAA6D,KAAvF,CAAD,CAAN;AACAD,IAAAA,MAAM,CAACuB,IAAI,CAACM,MAAL,CAAY,UAASC,CAAT,EAAY;AAAE,aAAQA,CAAC,CAACC,OAAF,CAAUC,IAAV,KAAmB,IAAnB,IAA2BF,CAAC,CAACG,SAAF,KAAgB/B,OAAnD;AAA6D,KAAvF,CAAD,CAAN;AAEAY,IAAAA,OAAO,CAACS,IAAI,CAACM,MAAL,CAAY,UAASC,CAAT,EAAY;AAAE,aAAQA,CAAC,CAACC,OAAF,CAAUC,IAAV,KAAmB,IAAnB,IAA2BF,CAAC,CAACG,SAAF,KAAgBlB,QAAnD;AAA8D,KAAxF,CAAD,CAAP;AACAH,IAAAA,OAAO,CAACW,IAAI,CAACM,MAAL,CAAY,UAASC,CAAT,EAAY;AAAE,aAAQA,CAAC,CAACC,OAAF,CAAUC,IAAV,KAAmB,IAAnB,IAA2BF,CAAC,CAACG,SAAF,KAAgBjB,QAAnD;AAA8D,KAAxF,CAAD,CAAP;AAED,GAtBD;;AAyBE,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,eAAjB;AAAkC,IAAA,IAAI,EAAEtC,GAAxC;AAA6C,IAAA,KAAK,EAAEI,KAApD;AAA2D,IAAA,GAAG,EAAE,GAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,eAAjB;AAAkC,IAAA,IAAI,EAAEG,GAAxC;AAA6C,IAAA,KAAK,EAAEI,KAApD;AAA2D,IAAA,GAAG,EAAE,GAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,eAAjB;AAAkC,IAAA,IAAI,EAAEG,GAAxC;AAA6C,IAAA,KAAK,EAAEI,KAApD;AAA2D,IAAA,GAAG,EAAE,GAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAIE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,eAAjB;AAAkC,IAAA,IAAI,EAAEG,GAAxC;AAA6C,IAAA,KAAK,EAAEI,KAApD;AAA2D,IAAA,GAAG,EAAE,GAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,eAKE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,cAAjB;AAAiC,IAAA,IAAI,EAAEQ,IAAvC;AAA6C,IAAA,KAAK,EAAEM,MAApD;AAA4D,IAAA,GAAG,EAAE,GAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAFF,eASE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,aAAjB;AAAgC,IAAA,IAAI,EAAEzC,GAAtC;AAA2C,IAAA,KAAK,EAAEM,KAAlD;AAAyD,IAAA,GAAG,EAAE,GAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,eAAjB;AAAkC,IAAA,IAAI,EAAEC,GAAxC;AAA6C,IAAA,KAAK,EAAEM,KAApD;AAA2D,IAAA,GAAG,EAAE,GAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,cAAjB;AAAiC,IAAA,IAAI,EAAEC,GAAvC;AAA4C,IAAA,KAAK,EAAEM,KAAnD;AAA0D,IAAA,GAAG,EAAE,GAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAIE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,aAAjB;AAAgC,IAAA,IAAI,EAAEC,GAAtC;AAA2C,IAAA,KAAK,EAAEM,KAAlD;AAAyD,IAAA,GAAG,EAAE,GAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,eAKE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,aAAjB;AAAgC,IAAA,IAAI,EAAEU,IAAtC;AAA4C,IAAA,KAAK,EAAEI,MAAnD;AAA2D,IAAA,GAAG,EAAE,IAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CATF,CADF,CADF;AAyBD;;AAED,eAAe/C,GAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from 'axios'\nimport apiKeys from './env'\nimport DepTable from './DepTable'\n\nfunction App() {\n\n  // API Proxy to prevent CORS error\n  const Proxy = 'https://cors-anywhere.herokuapp.com/'\n  // Station ID of Dornbusch / refer to RMV API documentation for different station\n  const stationID_dornbusch = '3001301'\n  const stationID_hauptfriedhof= '3001401'\n\n  const [departData, setDepartData] = useState([])\n\n  // State variables for different subway lines. n = northbound / s = southbound\n  // Direction of the trains\n\n  // Dornbusch subway station\n  const [u1n, setU1n] = useState([])\n  const [u1s, setU1s] = useState([])\n  const u1n_dir = \"Frankfurt (Main) Ginnheim\"\n  const u1s_dir = \"Frankfurt (Main) Südbahnhof\"\n  const colU1 = \"#a93634\"\n\n  const [u2n, setU2n] = useState([])\n  const [u2s, setU2s] = useState([])\n  const u2n_dir = \"Bad Homburg v.d.H.-Gonzenheim (U)\"\n  const u2s_dir = \"Frankfurt (Main) Südbahnhof\"\n  const colU2 = \"#49a258\"\n\n  const [u3n, setU3n] = useState([])\n  const [u3s, setU3s] = useState([])\n  const u3n_dir = \"Oberursel (Taunus)-Hohemark\"\n  const u3s_dir = \"Frankfurt (Main) Südbahnhof\"\n  const colU3 = \"#4d5ea4\"\n\n  const [u8n, setU8n] = useState([])\n  const [u8s, setU8s] = useState([])\n  const u8n_dir = \"Frankfurt (Main) Riedberg\"\n  const u8s_dir = \"Frankfurt (Main) Südbahnhof\"\n  const colU8 = \"#bd81b1\"\n\n  // Hauptfriedhof subway station\n  const [u5n, setU5n] = useState([])\n  const [u5s, setU5s] = useState([])\n  const u5n_dir = \"Frankfurt (Main) Riedberg\"\n  const u5s_dir = \"Frankfurt (Main) Südbahnhof\"\n  const colU5 = \"#347647\"\n\n  // Dornbusch bus station\n  const [b34w, setB34w] = useState([])\n  const [b34e, setB34e] = useState([])\n  const b34e_dir = \"Frankfurt (Main) Bornheim Mitte\"\n  const b34w_dir = \"Frankfurt (Main) Mönchhofstraße\"\n  const colb34 = \"#49a38d\"\n\n\n\n  useEffect(() => {\n\n    //console.log(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId='+ apiKeys.rmvApiKey +'&id='+ stationID +'&format=json')\n\n    // run once, then every x seconds\n    axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId='+ apiKeys.rmvApiKey +'&id='+ stationID_dornbusch +'&format=json')\n       .then(response => update(response.data.Departure))\n\n    axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId='+ apiKeys.rmvApiKey +'&id='+ stationID_dornbusch +'&format=json')\n       .then(response => update(response.data.Departure))\n\n    const interval = setInterval(() => {\n        axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId='+ apiKeys.rmvApiKey +'&id='+ stationID_dornbusch +'&format=json')\n       .then(response => update(response.data.Departure))\n\n       axios.get(Proxy + 'https://www.rmv.de/hapi/departureBoard?accessId='+ apiKeys.rmvApiKey +'&id='+ stationID_dornbusch +'&format=json')\n       .then(response => update(response.data.Departure))\n    }, 30000); \n    \n        \n\n        \n}, []);\n\n\n\nconst update = (data) => {\n    \n  setDepartData(data)\n\n  //console.log(data)\n  console.log('update')\n\n  setU1n(data.filter(function(d) { return (d.Product.line === 'U1' && d.direction === u1n_dir) }))\n  setU1s(data.filter(function(d) { return (d.Product.line === 'U1' && d.direction === u1s_dir) }))\n\n  setU2n(data.filter(function(d) { return (d.Product.line === 'U2' && d.direction === u2n_dir) }))\n  setU2s(data.filter(function(d) { return (d.Product.line === 'U2' && d.direction === u2s_dir) }))\n\n  setU3n(data.filter(function(d) { return (d.Product.line === 'U3' && d.direction === u3n_dir) }))\n  setU3s(data.filter(function(d) { return (d.Product.line === 'U3' && d.direction === u3s_dir) }))\n\n  setU8n(data.filter(function(d) { return (d.Product.line === 'U8' && d.direction === u8n_dir) }))\n  setU8s(data.filter(function(d) { return (d.Product.line === 'U8' && d.direction === u8s_dir) }))\n\n  setB34e(data.filter(function(d) { return (d.Product.line === '34' && d.direction === b34e_dir) }))\n  setB34w(data.filter(function(d) { return (d.Product.line === '34' && d.direction === b34w_dir) }))\n\n}\n\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n\n        <div className=\"Tables\">\n          <DepTable Title={'U1 Südbahnhof'} Data={u1s} Color={colU1} key={'1'}/>\n          <DepTable Title={'U2 Südbahnhof'} Data={u2s} Color={colU2} key={'2'}/>\n          <DepTable Title={'U3 Südbahnhof'} Data={u3s} Color={colU3} key={'3'}/>\n          <DepTable Title={'U8 Südbahnhof'} Data={u8s} Color={colU8} key={'4'}/>\n          <DepTable Title={'34 Rödelheim'} Data={b34w} Color={colb34} key={'5'}/>\n        </div>\n        <div className=\"Tables\">\n          <DepTable Title={'U1 Ginnheim'} Data={u1n} Color={colU1} key={'6'}/>\n          <DepTable Title={'U2 Gonzenheim'} Data={u2n} Color={colU2} key={'7'}/>\n          <DepTable Title={'U3 Hohe Mark'} Data={u3n} Color={colU3} key={'8'}/>\n          <DepTable Title={'U8 Riedberg'} Data={u8n} Color={colU8} key={'9'}/>\n          <DepTable Title={'34 Bornheim'} Data={b34e} Color={colb34} key={'10'}/>\n        </div>\n\n        \n          \n\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}